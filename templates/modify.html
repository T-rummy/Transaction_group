{% extends "base.html" %}

{% block content %}
<div class="fade-in" style="max-width: 1000px; margin: 0 auto;">
    <div class="text-center" style="margin-bottom: 32px;">
        <h1 class="text-3xl font-bold text-primary" style="margin-bottom: 8px;">Modify Transactions</h1>
        <p class="text-secondary">Update transaction details as needed</p>
    </div>

    <!-- Modify Form -->
    <div class="card" style="padding: 32px; margin-bottom: 32px;">
        <h2 class="text-xl font-semibold text-primary" style="margin-bottom: 24px;">Update Transaction</h2>
        <form method="POST" action="/modify" class="space-y-6">
            <div class="grid grid-cols-1 md:grid-cols-3" style="gap: 20px;">
                <div class="form-group">
                    <label class="form-label">Transaction ID</label>
                    <input type="text" name="transaction_id" class="form-input" 
                           placeholder="Enter transaction ID" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Field to Update</label>
                    <select name="field" class="form-select">
                        <option value="Name">Name</option>
                        <option value="Amount">Amount</option>
                        <option value="Category">Category</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">New Value</label>
                    <input type="text" name="new_value" class="form-input" 
                           placeholder="Enter new value" required>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-full">
                Update Transaction
            </button>
        </form>
    </div>

    <!-- Transaction List -->
    <div class="card" style="padding: 32px;">
        <h2 class="text-xl font-semibold text-primary" style="margin-bottom: 24px;">All Transactions</h2>
        
        {% if transactions %}
            <div class="overflow-x-auto">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="border-bottom: 1px solid var(--border-color);">
                            <th style="text-align: left; padding: 12px 16px; font-weight: 600; color: var(--text-secondary); font-size: 14px;">ID</th>
                            <th style="text-align: left; padding: 12px 16px; font-weight: 600; color: var(--text-secondary); font-size: 14px;">Name</th>
                            <th style="text-align: left; padding: 12px 16px; font-weight: 600; color: var(--text-secondary); font-size: 14px;">Category</th>
                            <th style="text-align: left; padding: 12px 16px; font-weight: 600; color: var(--text-secondary); font-size: 14px;">Amount</th>
                            <th style="text-align: left; padding: 12px 16px; font-weight: 600; color: var(--text-secondary); font-size: 14px;">Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for transaction in transactions %}
                        <tr style="border-bottom: 1px solid var(--border-color); transition: background-color 0.2s ease;">
                            <td style="padding: 12px 16px; font-weight: 500; color: var(--text-primary);">{{ transaction['Id'] }}</td>
                            <td style="padding: 12px 16px; color: var(--text-primary);">{{ transaction['Name'] }}</td>
                            <td style="padding: 12px 16px;">
                                <span class="transaction-category">{{ transaction['Category'] }}</span>
                            </td>
                            <td style="padding: 12px 16px; font-weight: 600; color: var(--text-primary);">${{ "%.2f"|format(transaction['Amount']|float) }}</td>
                            <td style="padding: 12px 16px; color: var(--text-secondary);">{{ transaction['Date'] }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        {% else %}
            <div class="text-center" style="padding: 48px 24px;">
                <div style="font-size: 48px; margin-bottom: 16px;">üìù</div>
                <h3 class="text-lg font-semibold text-primary" style="margin-bottom: 8px;">No Transactions Found</h3>
                <p class="text-secondary">Add some transactions first to modify them.</p>
            </div>
        {% endif %}
    </div>
</div>

<style>
    tbody tr:hover {
        background-color: rgba(0, 122, 255, 0.05);
    }
</style>
{% endblock %}
