{% extends "base.html" %}

{% block title %}Transactions{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Transactions</h2>
    <div class="row">
        {% for tx in transactions %}
        <div class="col-md-4 col-sm-6 mb-3">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title">{{ tx['Name'] }}</h5>
                    <p class="card-text">
                        <strong>Amount:</strong> ${{ tx['Amount'] }} <br>
                        <strong>Date:</strong> {{ tx['Date'] }} <br>
                        <strong>Category:</strong> {{ tx['Category'] }}
                        {% if tx.get('Subcategory') %}
                            <br><strong>Subcategory:</strong> {{ tx['Subcategory'] }}
                        {% endif %}
                        {% if tx.get('Location') %}
                            <br><strong>Location:</strong> {{ tx['Location'] }}
                        {% endif %}
                        {% if tx.get('Destination') %}
                            <br><strong>Destination:</strong> {{ tx['Destination'] }}
                        {% endif %}
                        {% if tx.get('Transport_Mode') %}
                            <br><strong>Transport:</strong> {{ tx['Transport_Mode'] }}
                        {% endif %}
                        {% if tx.get('Bill_Type') %}
                            <br><strong>Bill Type:</strong> {{ tx['Bill_Type'] }}
                        {% endif %}
                        {% if tx.get('Provider') %}
                            <br><strong>Provider:</strong> {{ tx['Provider'] }}
                        {% endif %}
                        {% if tx.get('Academic_Type') %}
                            <br><strong>Academic Type:</strong> {{ tx['Academic_Type'] }}
                        {% endif %}
                        {% if tx.get('Institution') %}
                            <br><strong>Institution:</strong> {{ tx['Institution'] }}
                        {% endif %}
                        {% if tx.get('Health_Type') %}
                            <br><strong>Health Type:</strong> {{ tx['Health_Type'] }}
                        {% endif %}
                    </p>
                    <form action="/delete/{{ tx['Id'] }}" method="POST">
                        <button class="btn btn-danger btn-sm" type="submit">Delete</button>
                    </form>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
