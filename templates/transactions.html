{% extends "base.html" %}

{% block title %}Transactions{% endblock %}

{% block content %}
<div class="fade-in">
    <div class="text-center" style="margin-bottom: 32px;">
        <h1 class="text-3xl font-bold text-primary" style="margin-bottom: 8px;">All Transactions</h1>
        <p class="text-secondary">{{ transactions|length }} transactions found</p>
    </div>
    
    {% if transactions %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3" style="gap: 20px;">
            {% for tx in transactions %}
            <div class="transaction-card">
                <div class="flex justify-between items-start" style="margin-bottom: 16px;">
                    <div>
                        <h3 class="text-lg font-semibold text-primary" style="margin-bottom: 4px;">{{ tx['Name'] }}</h3>
                        <span class="transaction-category">{{ tx['Category'] }}</span>
                    </div>
                    <div class="transaction-amount">${{ "%.2f"|format(tx['Amount']|float) }}</div>
                </div>
                
                <div class="space-y-2" style="margin-bottom: 16px;">
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Date:</span>
                        <span class="text-primary">{{ tx['Date'] }}</span>
                    </div>
                    
                    {% if tx.get('Subcategory') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Subcategory:</span>
                        <span class="text-primary">{{ tx['Subcategory'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Location') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Location:</span>
                        <span class="text-primary">{{ tx['Location'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Destination') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Destination:</span>
                        <span class="text-primary">{{ tx['Destination'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Transport_Mode') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Transport:</span>
                        <span class="text-primary">{{ tx['Transport_Mode'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Bill_Type') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Bill Type:</span>
                        <span class="text-primary">{{ tx['Bill_Type'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Provider') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Provider:</span>
                        <span class="text-primary">{{ tx['Provider'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Academic_Type') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Academic Type:</span>
                        <span class="text-primary">{{ tx['Academic_Type'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Institution') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Institution:</span>
                        <span class="text-primary">{{ tx['Institution'] }}</span>
                    </div>
                    {% endif %}
                    
                    {% if tx.get('Health_Type') %}
                    <div class="flex justify-between text-sm">
                        <span class="text-secondary">Health Type:</span>
                        <span class="text-primary">{{ tx['Health_Type'] }}</span>
                    </div>
                    {% endif %}
                </div>
                
                <form action="/delete/{{ tx['Id'] }}" method="POST" style="text-align: center;">
                    <button type="submit" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this transaction?')">
                        Delete
                    </button>
                </form>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="card text-center" style="padding: 48px 24px;">
            <div style="font-size: 48px; margin-bottom: 16px;">ðŸ“Š</div>
            <h2 class="text-xl font-semibold text-primary" style="margin-bottom: 8px;">No Transactions Yet</h2>
            <p class="text-secondary" style="margin-bottom: 24px;">Start tracking your expenses by adding your first transaction.</p>
            <a href="/" class="btn btn-primary">Add Your First Transaction</a>
        </div>
    {% endif %}
</div>
{% endblock %}
